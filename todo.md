# Circle 链上行为追踪器 - 项目 TODO

## 核心功能

### 数据模型与数据库
- [ ] 设计数据库 schema（交易表、事件表、统计表）
- [ ] 实现 Drizzle ORM 表定义
- [ ] 创建数据库迁移脚本

### 后端接口与数据捕获
- [ ] 实现 USDC 和 CCTP 事件识别逻辑
- [ ] 创建交易数据查询接口
- [ ] 实现历史记录追溯接口
- [ ] 实现批量分析接口
- [ ] 实现数据导出接口（CSV/Excel）

### 前端仪表板
- [ ] 设计仪表板布局和导航
- [ ] 实现实时交易列表展示
- [ ] 实现过滤器（时间范围、金额范围、链类型、行为类型）
- [ ] 实现可视化图表（Mint/Burn 趋势、链间流量）
- [ ] 实现导出功能（CSV/Excel）
- [ ] 实现交易详情查看页面

### 实时监听与通知
- [ ] 实现多链 RPC 事件监听器
- [ ] 实现大额交易告警逻辑
- [ ] 集成通知系统（向项目所有者发送告警）

### 数据分析与统计
- [ ] 实现 Mint/Burn 统计汇总
- [ ] 实现链间流量分析
- [ ] 实现时间序列数据聚合

## 非功能需求
- [ ] 性能优化（数据库查询、前端渲染）
- [ ] 错误处理与日志记录
- [ ] 单元测试编写
- [ ] 文档编写（使用指南、API 文档）

## 完成标记说明
- [x] 表示已完成的任务
- [ ] 表示待完成的任务


## 完成进度

### 第一阶段 - 基础架构 (已完成)
- [x] 设计应用架构和数据模型
- [x] 创建数据库 schema（transactions、events、statistics、alertConfigs）
- [x] 推送数据库迁移
- [x] 实现数据库查询帮助函数
- [x] 创建后端 tRPC 接口

### 第二阶段 - 前端基础 (进行中)
- [x] 创建前端常量文件（链信息、交易类型）
- [x] 实现 Dashboard 组件（交易列表、过滤器、统计卡片）
- [x] 实现数据导出功能（Excel）
- [x] 更新路由配置
- [x] 更新首页
- [ ] 实现可视化图表（趋势图、链间流量）
- [ ] 实现交易详情页面

### 第三阶段 - 实时监听与通知
- [ ] 实现多链 RPC 事件监听器
- [ ] 实现 Circle Mint/Burn 事件分类逻辑
- [ ] 实现 CCTP 跨链事件识别
- [ ] 实现大额交易告警
- [ ] 集成通知系统

### 第四阶段 - 高级功能
- [ ] 实现历史记录追溯
- [ ] 实现批量分析功能
- [ ] 实现数据统计聚合
- [ ] 性能优化

### 第五阶段 - 测试与文档
- [ ] 编写单元测试
- [ ] 编写集成测试
- [ ] 编写使用指南
- [ ] 编写 API 文档


### 新增功能需求
- [x] 添加日期范围选择器（日历组件）
- [x] 实现历史交易查询功能
- [x] 支持日期范围 + 链 + 交易类型的多维度过滤
- [x] 显示时间段统计对比


### 问题修复
- [x] 验证后端 API 连接是否正确
- [x] 添加测试数据到数据库
- [ ] 实现实时事件监听器捕获链上数据


### 真实数据捕获系统
- [x] 配置多链 RPC 端点（Ethereum、Base、Arbitrum 等）
- [x] 实现实时事件监听器（ethers.js）
- [x] 实现历史数据回溯功能
- [x] 自动分类 Circle Mint/Burn 和 CCTP 事件
- [x] 集成后端定时任务持续监听
- [x] 测试真实数据捕获效果

### 持续追踪功能
- [x] 改进事件识别逻辑，正确识别 CCTP Mint/Burn 交易
- [x] 实现后台定时任务，持续追踪过去一周的数据
- [x] 测试 CCTP 数据捕获效果


### 手机版 UI 优化
- [x] 优化仪表板的响应式设计
- [x] 修复表格在手机上的显示
- [x] 修复字体错位和间距问题
- [x] 优化过滤器在手机上的布局
- [x] 测试手机版本效果


### 交易哈希跳转功能
- [x] 为交易哈希添加可点击链接
- [x] 支持跳转到 Etherscan 等区块链浏览器
- [x] 根据不同链使用对应的浏览器 URL


### 手机端界面重设计
- [x] 改进卡片式布局，显示完整信息无需拖拽
- [x] 将交易哈希改成按钮形式
- [x] 优化卡片内容排列，提高可读性
- [x] 测试手机端用户体验
